{$assertions on}

type
  TPoint = record X, Y: Int32; end;

var
  Points: array of TPoint = [[100, 100], [200, 200], [300, 300], [200, 200], [200, 200]];
  Strings: array of String = ['hello', 'world', 'bonjour', 'world', 'hoi', 'world'];
  Bools: array of Boolean = [True, False, True, True, False, False, False, False];
  Floats: array[2..6] of Extended = [0.1, 0.2, 0.1, 0.2, 0.1];
  Indices: array of Int32;

begin
  Indices := FindAll(TPoint([200, 200]), Points);
  Assert(Length(Indices) = 3);
  Assert((Indices[0] = 1) and (Indices[1] = 3) and (Indices[2] = 4));

  Indices := FindAll('world', Strings);
  Assert(Length(Indices) = 3);
  Assert((Indices[0] = 1) and (Indices[1] = 3) and (Indices[2] = 5));

  Indices := FindAll(0.2, Floats);
  Assert(Length(Indices) = 2);
  Assert((Indices[0] = 3) and (Indices[1] = 5));

  Indices := FindAll(True, Bools, 1, 2);
  Assert(Length(Indices) = 2);
  Assert((Indices[0] = 2) and (Indices[1] = 3));

  Indices := FindAll(True, Bools, 4);
  Assert(Length(Indices) = 0);

  Writeln('FindAll :: Passed');
end;